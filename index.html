<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ù…ØªØ¬Ø± Ø¬ÙˆÙ‡Ø§Ù† â€” E-Tech</title>
  <meta name="description" content="Ø£ÙØ¶Ù„ Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø­Ø§Ø³ÙˆØ¨ â€” Ù„ÙˆØ­Ø§Øª Ù…ÙØ§ØªÙŠØ­ØŒ ÙØ£Ø±Ø§ØªØŒ Ø¨Ø·Ø§Ù‚Ø§Øª Ø´Ø§Ø´Ø©ØŒ SSD" />
  <!-- Tailwind CDN (Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø¨Ø¯Ø¡) -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    /* Ø¨Ø¹Ø¶ Ø§Ù„Ù„Ù…Ø³Ø§Øª Ø§Ù„Ø®Ø§ØµØ© */
    .card-shadow { box-shadow: 0 6px 18px rgba(15,23,42,0.08); }
    .blur-bg { backdrop-filter: blur(6px); }
    /* Ø²Ø± ØµØºÙŠØ± ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù„Ù…Ø³ ÙÙŠ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
    button:active { transform: translateY(1px); }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">

  <!-- NAV -->
  <header class="bg-white shadow sticky top-0 z-40">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <a href="#/" class="text-xl font-extrabold text-indigo-600">Ù…ØªØ¬Ø± Ø¬ÙˆÙ‡Ø§Ù†</a>
        <nav class="hidden md:flex items-center gap-6 text-sm">
          <a href="#/" class="hover:text-indigo-600">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
          <a href="#/deals" class="hover:text-indigo-600">Ø§Ù„Ø¹Ø±ÙˆØ¶</a>
          <a href="#/support" class="hover:text-indigo-600">Ø§Ù„Ø¯Ø¹Ù…</a>
        </nav>

        <div class="flex items-center gap-3">
          <div class="hidden sm:flex items-center bg-gray-100 rounded p-1 px-2">
            <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
            <input id="search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬ Ø£Ùˆ Ø¹Ù„Ø§Ù…Ø©" class="bg-transparent outline-none text-sm px-2" />
          </div>

          <button id="cartBtn" class="relative inline-flex items-center px-3 py-2 rounded-md hover:bg-gray-100">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2 7h12l-2-7"/></svg>
            <span id="cartCount" class="absolute -top-1 -right-1 bg-indigo-600 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center">0</span>
          </button>
          <button id="menuBtn" class="md:hidden px-2 py-2">â˜°</button>
        </div>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Router target -->
    <div id="app"></div>
  </main>

  <!-- CART Drawer -->
  <div id="cartDrawer" class="fixed inset-y-0 left-0 w-full sm:w-96 transform -translate-x-full transition-transform z-50">
    <div class="h-full bg-white shadow-xl flex flex-col">
      <div class="p-4 border-b flex justify-between items-center">
        <h3 class="font-semibold">Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚</h3>
        <div class="flex gap-2">
          <button id="clearCartBtn" class="text-red-500 text-sm">Ù…Ø³Ø­</button>
          <button id="closeCart" class="text-sm">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
      </div>
      <div id="cartItems" class="p-4 flex-1 overflow-auto"></div>
      <div class="p-4 border-t">
        <div class="flex justify-between items-center">
          <div class="text-sm text-gray-600">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹</div>
          <div id="cartTotal" class="font-semibold">0.00 $</div>
        </div>
        <div class="mt-4">
          <button id="checkoutBtn" class="w-full py-3 bg-indigo-600 text-white rounded">Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ù„Ù„Ø¯ÙØ¹</button>
          <button id="payMethod" class="w-full mt-2 py-2 border rounded">Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹</button>
        </div>
      </div>
    </div>
  </div>

  <!-- PRODUCT MODAL -->
  <div id="productModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black bg-opacity-50 p-4">
    <div class="bg-white rounded-lg max-w-3xl w-full overflow-hidden">
      <div class="p-4 flex justify-between items-start">
        <div>
          <h3 id="modalTitle" class="font-bold text-lg"></h3>
          <div id="modalCat" class="text-sm text-gray-500"></div>
        </div>
        <div class="text-lg font-bold" id="modalPrice"></div>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 p-4">
        <img id="modalImg" class="w-full h-64 object-cover rounded" src="" alt="">
        <div>
          <p id="modalDesc" class="text-gray-700"></p>
          <div class="mt-4 flex gap-2">
            <button id="modalAdd" class="px-4 py-2 bg-indigo-600 text-white rounded">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
            <button id="modalClose" class="px-4 py-2 border rounded">Ø¥ØºÙ„Ø§Ù‚</button>
          </div>
          <div id="modalStock" class="mt-3 text-sm text-gray-500"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="mt-10 bg-gray-900 text-white py-4">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      Â© <span id="year"></span> Ù…ØªØ¬Ø± Ø¬ÙˆÙ‡Ø§Ù† â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©
    </div>
  </footer>

  <!-- SCRIPTS: data + router + cart logic -->
  <script>
    // ========= SAMPLE DATA =========
    const PRODUCTS = [
      { id:1, title:"Ù„ÙˆØ­Ø© Ù…ÙØ§ØªÙŠØ­ Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©", price:119.00, category:"Peripherals", rating:4.8, image:"https://via.placeholder.com/640x480?text=Keyboard", desc:"Ù…ÙØ§ØªÙŠØ­ Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¨Ø¯ÙŠÙ„ØŒ Ø¥Ø¶Ø§Ø¡Ø© RGBØŒ ØªØµÙ…ÙŠÙ… Ù…Ø¯Ù…Ø¬.", stock:10 },
      { id:2, title:"ÙØ£Ø±Ø© Ø£Ù„Ø¹Ø§Ø¨ RGB", price:49.00, category:"Peripherals", rating:4.6, image:"https://via.placeholder.com/640x480?text=Gaming+Mouse", desc:"Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ© ÙˆØ±Ø§Ø­Ø© ÙÙŠ Ø§Ù„ÙŠØ¯.", stock:15 },
      { id:3, title:"Ø¨Ø·Ø§Ù‚Ø© Ø´Ø§Ø´Ø© 8GB", price:399.00, category:"Hardware", rating:4.5, image:"https://via.placeholder.com/640x480?text=GPU", desc:"Ø£Ø¯Ø§Ø¡ Ù…Ù…ØªØ§Ø² Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ§Ù„Ø±Ø³ÙˆÙ…ÙŠØ§Øª.", stock:5 },
      { id:4, title:"NVMe SSD 1TB", price:79.99, category:"Storage", rating:4.7, image:"https://via.placeholder.com/640x480?text=SSD+1TB", desc:"Ø³Ø±Ø¹Ø© ØªØ­Ù…ÙŠÙ„ ÙˆØªØ´ØºÙŠÙ„ ÙØ§Ø¦Ù‚Ø©.", stock:20 }
    ];

    // ========= UTIL & STATE =========
    const $ = (sel) => document.querySelector(sel);
    const $$ = (sel) => Array.from(document.querySelectorAll(sel));
    let CART = JSON.parse(localStorage.getItem('ethech_cart')||'[]');

    function saveCart(){ localStorage.setItem('ethech_cart', JSON.stringify(CART)); renderCart(); updateCartCount(); }
    function updateCartCount(){ $('#cartCount').textContent = CART.reduce((s,i)=>s+i.qty,0); $('#cartTotal').textContent = CART.reduce((s,i)=>s+i.qty*i.price,0).toFixed(2) + ' $'; }
    function renderCart(){
      const wrap = $('#cartItems'); wrap.innerHTML = '';
      if(CART.length===0){ wrap.innerHTML = '<div class="text-gray-500">Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©. Ø£Ø¶Ù Ù…Ù†ØªØ¬Ø§Øª.</div>'; updateCartCount(); return; }
      CART.forEach(it=>{
        const div = document.createElement('div'); div.className='flex gap-3 items-center border-b py-3';
        div.innerHTML = `
          <img src="${it.image}" class="w-16 h-12 object-cover rounded" />
          <div class="flex-1">
            <div class="font-medium">${it.title}</div>
            <div class="text-sm text-gray-500">${it.qty} Ã— $${it.price.toFixed(2)}</div>
          </div>
          <div class="flex items-center gap-1">
            <button data-id="${it.id}" class="px-2 py-1 border dec">-</button>
            <div class="px-2">${it.qty}</div>
            <button data-id="${it.id}" class="px-2 py-1 border inc">+</button>
          </div>
        `;
        wrap.appendChild(div);
      });
      // attach inc/dec
      $$('.inc').forEach(b=>b.onclick=()=>{ const id=+b.dataset.id; CART=CART.map(x=>x.id===id?{...x,qty:x.qty+1}:x); saveCart(); });
      $$('.dec').forEach(b=>b.onclick=()=>{ const id=+b.dataset.id; CART=CART.map(x=>x.id===id?{...x,qty:Math.max(1,x.qty-1):x}).filter(Boolean); saveCart(); });
      updateCartCount();
    }

    // ========= UI RENDER (SPA) =========
    function homeView(){
      const searchVal = $('#search')?.value?.toLowerCase()||'';
      const products = PRODUCTS.filter(p => p.title.toLowerCase().includes(searchVal) || p.desc.toLowerCase().includes(searchVal));
      return `
        <section class="text-center mb-6">
          <h1 class="text-3xl font-extrabold">Ø£ÙØ¶Ù„ Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø­Ø§Ø³ÙˆØ¨ Ù‡Ù†Ø§ ğŸ”¥</h1>
          <p class="text-gray-600 mt-2">Ù„ÙˆØ­Ø§Øª Ù…ÙØ§ØªÙŠØ­ â€¢ ÙØ£Ø±Ø§Øª â€¢ Ø¨Ø·Ø§Ù‚Ø§Øª Ø´Ø§Ø´Ø© â€¢ SSD</p>
        </section>

        <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          ${products.map(p=>`
            <article class="bg-white p-4 rounded card-shadow">
              <img src="${p.image}" class="w-full h-40 object-cover rounded" alt="${p.title}">
              <div class="mt-3 flex justify-between items-start gap-2">
                <div>
                  <h3 class="font-semibold">${p.title}</h3>
                  <div class="text-sm text-gray-500">${p.category} Â· â­ ${p.rating}</div>
                </div>
                <div class="text-lg font-bold">$${p.price.toFixed(2)}</div>
              </div>
              <p class="text-sm text-gray-600 mt-2 line-clamp-3">${p.desc}</p>
              <div class="mt-4 flex gap-2">
                <button data-id="${p.id}" class="addItem flex-1 py-2 bg-indigo-600 text-white rounded">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
                <button data-id="${p.id}" class="viewItem py-2 px-3 border rounded">Ø¹Ø±Ø¶</button>
              </div>
            </article>
          `).join('')}
        </section>
      `;
    }

    function dealsView(){
      // simple subset - those over $100 as "deals" (demo)
      const list = PRODUCTS.filter(p => p.price>=100);
      return `
        <section>
          <h2 class="text-2xl font-bold mb-4">Ø¹Ø±ÙˆØ¶ Ù…Ù…ÙŠØ²Ø©</h2>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            ${list.map(p=>`
              <div class="bg-white p-4 rounded card-shadow flex items-center gap-4">
                <img src="${p.image}" class="w-28 h-20 object-cover rounded" />
                <div class="flex-1">
                  <div class="font-semibold">${p.title}</div>
                  <div class="text-sm text-gray-500">$${p.price.toFixed(2)}</div>
                </div>
                <button data-id="${p.id}" class="addItem py-2 px-3 bg-indigo-600 text-white rounded">Ø£Ø¶Ù</button>
              </div>
            `).join('')}
          </div>
        </section>
      `;
    }

    function supportView(){
      return `
        <section class="max-w-2xl mx-auto bg-white p-6 rounded card-shadow">
          <h2 class="text-xl font-bold mb-3">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h2>
          <p class="text-gray-600">Ø¹Ù†Ø¯Ùƒ Ø³Ø¤Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬ØŸ Ø§Ø³ØªÙØ³Ø± Ù‡Ù†Ø§ Ùˆ ØºØ§Ø¯ÙŠ Ù†Ø±Ø¯Ù‘ Ø¹Ù„ÙŠÙƒ.</p>
          <form id="contactForm" class="mt-4 space-y-3">
            <input required name="name" placeholder="Ø§Ø³Ù…Ùƒ" class="w-full p-2 border rounded" />
            <input required name="email" type="email" placeholder="Ø¨Ø±ÙŠØ¯Ùƒ" class="w-full p-2 border rounded" />
            <textarea name="message" rows="4" placeholder="Ø±Ø³Ø§Ù„ØªÙƒ" class="w-full p-2 border rounded"></textarea>
            <button class="py-2 px-4 bg-indigo-600 text-white rounded">Ø¥Ø±Ø³Ø§Ù„</button>
          </form>
        </section>
      `;
    }

    // router render
    function renderRoute(){
      const hash = location.hash.replace('#','') || '/';
      const target = $('#app');
      if(hash==='/'||hash===''){
        target.innerHTML = homeView();
      } else if(hash.startsWith('/deals')){
        target.innerHTML = dealsView();
      } else if(hash.startsWith('/support')){
        target.innerHTML = supportView();
      } else {
        target.innerHTML = '<div class="text-center p-8">Ø§Ù„ØµÙØ­Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©</div>';
      }
      attachUI();
    }

    // attach UI events after render
    function attachUI(){
      // add to cart
      $$('.addItem').forEach(b=>b.onclick=()=>{
        const id=+b.dataset.id; const p = PRODUCTS.find(x=>x.id===id);
        const found=CART.find(x=>x.id===id);
        if(found){ CART=CART.map(x=>x.id===id?{...x,qty:x.qty+1}:x); }
        else CART.push({...p,qty:1});
        saveCart();
        openCart();
      });

      // view product
      $$('.viewItem').forEach(b=>b.onclick=()=>{
        const id=+b.dataset.id; openProductModal(id);
      });

      // contact form
      const cf = $('#contactForm');
      if(cf){ cf.onsubmit = (e)=>{ e.preventDefault(); alert('Ø´ÙƒØ±Ø§Ù‹! Ø³ÙˆÙ Ù†Ø±Ø¯ Ø¹Ù„ÙŠÙƒ Ù‚Ø±ÙŠØ¨Ø§.'); cf.reset(); } }

      // search realtime
      const s = $('#search'); if(s){ s.oninput = () => renderRoute(); }
    }

    // ========= MODAL =========
    function openProductModal(id){
      const p = PRODUCTS.find(x=>x.id===id);
      $('#modalTitle').textContent = p.title;
      $('#modalCat').textContent = p.category + ' Â· â­ ' + p.rating;
      $('#modalPrice').textContent = '$' + p.price.toFixed(2);
      $('#modalImg').src = p.image;
      $('#modalDesc').textContent = p.desc;
      $('#modalStock').textContent = 'Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…ØªØ§Ø­Ø©: ' + p.stock;
      $('#productModal').classList.remove('hidden');
      $('#productModal').classList.add('flex');
      $('#modalAdd').onclick = ()=>{ const found=CART.find(x=>x.id===id); if(found) CART=CART.map(x=>x.id===id?{...x,qty:x.qty+1}:x); else CART.push({...p,qty:1}); saveCart(); $('#productModal').classList.add('hidden'); $('#productModal').classList.remove('flex'); openCart(); };
      $('#modalClose').onclick = ()=>{ $('#productModal').classList.add('hidden'); $('#productModal').classList.remove('flex'); };
    }

    // ========= CART CONTROLS =========
    function openCart(){ $('#cartDrawer').classList.remove('-translate-x-full'); $('#cartDrawer').classList.add('translate-x-0'); renderCart(); }
    function closeCart(){ $('#cartDrawer').classList.remove('translate-x-0'); $('#cartDrawer').classList.add('-translate-x-full'); }

    // buttons
    document.addEventListener('click', (e)=>{
      if(e.target.matches('#cartBtn') || e.target.closest('#cartBtn')) openCart();
      if(e.target.matches('#closeCart')) closeCart();
      if(e.target.matches('#clearCartBtn')){ CART=[]; saveCart(); }
      if(e.target.matches('#checkoutBtn')){ alert('Ù‡Ø°Ù‡ Ù…Ø«Ø§Ù„ Ù„Ù„Ø¯ÙŠÙ…Ùˆ â€” Ø§Ø±Ø¨Ø· Ø¨ÙˆØ§Ø¨Ø© Ø¯ÙØ¹ Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù„Ø§Ø­Ù‚Ø§Ù‹'); }
    });

    // ========= INIT =========
    window.addEventListener('hashchange', renderRoute);
    window.addEventListener('load', () => {
      // render year
      document.getElementById('year').textContent = new Date().getFullYear();
      renderRoute();
      renderCart();
      updateCartCount();
      // set visit button
      const visit = document.querySelectorAll('a[href="#/"]'); visit.forEach(a => a.onclick = ()=>location.hash = '/');
    });

    // small UI helpers
    $('#menuBtn').onclick = ()=>{ alert('Menu â€” Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø£Ùˆ Ø§Ù„Ø²Ø±Ø§Ø± ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰'); };
  </script>
</body>
</html>
