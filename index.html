<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Johan Store — Best Computer Gear</title>
  <style>
    :root{
      --blue-600: #0b84d6;
      --blue-700: #0a6fb1;
      --muted: #6b7280;
      --card-bg: #ffffff;
      --page-bg: #f6f7fb;
      --max-width: 1100px;
      --cart-width: 360px;
      --radius: 12px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:var(--page-bg);
      color:#111827;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      min-height:100vh;
    }

    /* Container */
    .container{ max-width:var(--max-width); margin:24px auto; padding:0 16px; }

    /* Nav */
    header.site-header{
      background:linear-gradient(90deg, rgba(11,132,214,0.06), rgba(11,111,177,0.04));
      padding:12px 0;
      position:sticky; top:0; z-index:800;
      backdrop-filter: blur(6px);
      border-bottom: 1px solid rgba(15,23,42,0.03);
    }
    .nav { display:flex; align-items:center; gap:16px; justify-content:space-between; max-width:var(--max-width); margin:0 auto; padding:0 16px; }
    .brand{ display:flex; align-items:center; gap:12px; text-decoration:none; color:var(--blue-700); }
    .brand .logo{ width:38px; height:38px; border-radius:10px; background:linear-gradient(135deg,var(--blue-600),var(--blue-700)); display:flex; align-items:center; justify-content:center; color:#fff; font-weight:700; font-size:18px; }
    .brand h1{ margin:0; font-size:18px; letter-spacing:0.2px; }
    .nav-actions{ display:flex; align-items:center; gap:12px; }

    /* Search */
    .search{
      display:flex; align-items:center; gap:8px; width:420px; max-width:40vw;
      background:#fff; padding:8px 12px; border-radius:999px; box-shadow:0 2px 6px rgba(2,6,23,0.04);
      border: 1px solid rgba(2,6,23,0.04);
    }
    .search input{ border:0; outline:none; font-size:14px; flex:1; }
    .btn { cursor:pointer; border:0; padding:10px 16px; border-radius:8px; background:var(--blue-600); color:#fff; font-weight:600; }
    .ghost { background:transparent; color:var(--blue-700); padding:8px 12px; border-radius:8px; border:1px solid rgba(11,132,214,0.12); }

    /* Hero Title */
    .hero{ display:flex; align-items:center; justify-content:space-between; gap:16px; margin:22px 0; }
    .hero h2{ margin:0; font-size:26px; color:var(--blue-700); }
    .hero p{ margin:6px 0 0; color:var(--muted); font-size:14px; }

    /* Grid */
    .grid{ display:grid; gap:18px; grid-template-columns: repeat(auto-fill, minmax(240px,1fr)); align-items:start; }
    .card{
      background:var(--card-bg); padding:14px; border-radius:var(--radius); box-shadow: 0 6px 18px rgba(12,20,30,0.04); border:1px solid rgba(12,20,30,0.03);
      display:flex; flex-direction:column; gap:10px;
    }
    .thumb{ width:100%; height:140px; border-radius:10px; background-size:cover; background-position:center; }
    .title{ font-weight:700; font-size:15px; margin:0; }
    .meta{ color:var(--muted); font-size:13px; margin-top:6px; display:flex; justify-content:space-between; align-items:center; }
    .price{ font-weight:800; color:var(--blue-700); }
    .card-actions{ display:flex; gap:8px; margin-top:auto; }
    .card .primary{ flex:1; }

    /* Empty state */
    .empty { text-align:center; padding:40px 16px; color:var(--muted); }

    footer.site-footer{ max-width:var(--max-width); margin:36px auto; padding:16px; color:var(--muted); text-align:center; font-size:13px; }

    /* Off-canvas cart */
    .cart-overlay{ position:fixed; inset:0; background:rgba(2,6,23,0.35); display:none; z-index:999; -webkit-tap-highlight-color:transparent; }
    .cart-overlay.show{ display:block; }
    .cart{
      position:fixed; top:0; right:0; height:100vh; width:var(--cart-width); max-width:100%;
      background:#fff; box-shadow:-12px 0 30px rgba(2,6,23,0.12); transform:translateX(100%); transition:transform 300ms ease; z-index:1000;
      display:flex; flex-direction:column; overflow:hidden;
      border-left:1px solid rgba(2,6,23,0.04);
    }
    .cart.open{ transform:translateX(0); }
    .cart-header{ padding:16px; display:flex; align-items:center; justify-content:space-between; border-bottom:1px solid rgba(2,6,23,0.04); }
    .cart-body{ padding:16px; overflow:auto; flex:1; }
    .cart-footer{ padding:16px; border-top:1px solid rgba(2,6,23,0.04); }

    .cart-item{ display:flex; gap:12px; align-items:center; margin-bottom:12px; }
    .cart-item-thumb{ width:64px; height:50px; border-radius:8px; background-size:cover; background-position:center; flex-shrink:0; }
    .cart-item-info{ flex:1; }
    .qty-controls{ display:flex; gap:8px; align-items:center; margin-top:6px; }
    .qty-controls button{ padding:6px 8px; border-radius:6px; border:1px solid rgba(2,6,23,0.06); background:#fff; cursor:pointer; }

    /* Responsive tweaks */
    @media (max-width:640px){
      .search{ width:60vw; max-width:260px; }
      .hero h2{ font-size:20px; }
      .thumb{ height:120px; }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header class="site-header">
    <nav class="nav">
      <a class="brand" href="#">
        <div class="logo">JS</div>
        <div>
          <h1>Johan Store</h1>
          <div style="font-size:12px;color:var(--muted)">Quality computer gear</div>
        </div>
      </a>

      <div style="display:flex; gap:12px; align-items:center;">
        <div class="search" role="search" aria-label="Search products">
          <input id="searchInput" placeholder="Search products, e.g. keyboard" />
          <button class="ghost" id="searchBtn">Search</button>
        </div>

        <div class="nav-actions">
          <button class="ghost" id="wishlistBtn" title="Wishlist">♡</button>
          <button class="btn" id="openCartBtn" aria-label="Open cart">Cart (<span id="cartCount">0</span>)</button>
        </div>
      </div>
    </nav>
  </header>

  <!-- Main -->
  <main class="container">
    <section class="hero">
      <div>
        <h2>Top computer accessories</h2>
        <p>Keyboards, mice, SSDs and more — curated for performance.</p>
      </div>
      <div style="display:flex; gap:8px;">
        <button class="ghost" id="filterBtn">Filters</button>
        <button class="btn" id="sortBtn">Sort</button>
      </div>
    </section>

    <!-- Product grid -->
    <section>
      <div class="grid" id="productGrid">
        <!-- Product cards will be injected by JS -->
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    © <span id="year"></span> Johan Store — All rights reserved.
  </footer>

  <!-- Off-canvas cart & overlay -->
  <div id="cartOverlay" class="cart-overlay" aria-hidden="true"></div>

  <aside id="cart" class="cart" aria-hidden="true" role="dialog" aria-label="Shopping cart">
    <div class="cart-header">
      <strong>Shopping Cart</strong>
      <button id="closeCartBtn" class="ghost" aria-label="Close cart">Close</button>
    </div>

    <div class="cart-body" id="cartBody">
      <div class="empty" id="emptyCartMsg">Your cart is empty. Add items to get started.</div>
    </div>

    <div class="cart-footer">
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
        <div style="color:var(--muted)">Total</div>
        <div style="font-weight:800; color:var(--blue-700)" id="cartTotal">$0.00</div>
      </div>
      <button class="btn" id="checkoutBtn">Checkout</button>
    </div>
  </aside>

  <script>
    // Sample product data (replace with real data / API)
    const PRODUCTS = [
      { id: 'p1', title: 'Mechanical Keyboard - Compact RGB', price: 119.00, img: 'https://picsum.photos/id/180/600/400' },
      { id: 'p2', title: 'Gaming Mouse Pro', price: 49.00, img: 'https://picsum.photos/id/1060/600/400' },
      { id: 'p3', title: '8GB DDR4 RAM', price: 399.00, img: 'https://picsum.photos/id/1011/600/400' },
      { id: 'p4', title: '1TB NVMe SSD', price: 79.99, img: 'https://picsum.photos/id/1050/600/400' },
      { id: 'p5', title: 'USB-C Docking Station', price: 89.99, img: 'https://picsum.photos/id/1025/600/400' },
      { id: 'p6', title: 'Laptop Sleeve 15"', price: 29.00, img: 'https://picsum.photos/id/1005/600/400' }
    ];

    // DOM references
    const grid = document.getElementById('productGrid');
    const yearEl = document.getElementById('year');
    const openCartBtn = document.getElementById('openCartBtn');
    const closeCartBtn = document.getElementById('closeCartBtn');
    const cart = document.getElementById('cart');
    const overlay = document.getElementById('cartOverlay');
    const cartBody = document.getElementById('cartBody');
    const emptyCartMsg = document.getElementById('emptyCartMsg');
    const cartTotalEl = document.getElementById('cartTotal');
    const cartCountEl = document.getElementById('cartCount');

    yearEl.textContent = new Date().getFullYear();

    // Build product cards
    function renderProducts(items){
      grid.innerHTML = '';
      items.forEach(p => {
        const card = document.createElement('article');
        card.className = 'card';
        card.innerHTML = `
          <div class="thumb" style="background-image:url('${p.img}')"></div>
          <div>
            <div class="title">${p.title}</div>
            <div class="meta"><div class="category">Peripherals</div><div class="price">$${p.price.toFixed(2)}</div></div>
          </div>
          <div class="card-actions">
            <button class="ghost" data-id="${p.id}" aria-label="View ${p.title}">View</button>
            <button class="btn primary" data-add="${p.id}">Add to cart</button>
          </div>
        `;
        grid.appendChild(card);
      });
    }

    // Simple in-memory cart
    const CART = {};

    function addToCart(productId){
      const product = PRODUCTS.find(p => p.id === productId);
      if(!product) return;
      if(!CART[productId]) CART[productId] = { ...product, qty: 0 };
      CART[productId].qty += 1;
      updateCartUI();
      openCart(); // open after add for clarity
    }

    function removeFromCart(productId){
      delete CART[productId];
      updateCartUI();
    }

    function changeQty(productId, delta){
      if(!CART[productId]) return;
      CART[productId].qty += delta;
      if(CART[productId].qty <= 0) removeFromCart(productId);
      updateCartUI();
    }

    function cartItemsArray(){ return Object.values(CART); }

    function cartTotal(){
      return cartItemsArray().reduce((s,i) => s + (i.price * i.qty), 0);
    }

    function updateCartUI(){
      const items = cartItemsArray();
      cartBody.innerHTML = '';
      if(items.length === 0){
        cartBody.appendChild(emptyCartMsg);
        cartCountEl.textContent = '0';
        cartTotalEl.textContent = '$0.00';
        return;
      }

      items.forEach(item => {
        const el = document.createElement('div');
        el.className = 'cart-item';
        el.innerHTML = `
          <div class="cart-item-thumb" style="background-image:url('${item.img}')"></div>
          <div class="cart-item-info">
            <div style="font-weight:700;font-size:14px">${item.title}</div>
            <div style="color:var(--muted);font-size:13px">$${item.price.toFixed(2)}</div>
            <div class="qty-controls">
              <button data-decrease="${item.id}">-</button>
              <div style="min-width:28px;text-align:center">${item.qty}</div>
              <button data-increase="${item.id}">+</button>
              <button style="margin-left:8px" data-remove="${item.id}">Remove</button>
            </div>
          </div>
        `;
        cartBody.appendChild(el);
      });

      cartCountEl.textContent = items.reduce((s,i)=>s+i.qty,0);
      cartTotalEl.textContent = '$' + cartTotal().toFixed(2);
    }

    // Off-canvas open/close
    function openCart(){
      cart.classList.add('open');
      overlay.classList.add('show');
      cart.setAttribute('aria-hidden', 'false');
      overlay.setAttribute('aria-hidden', 'false');
      document.documentElement.style.overflow = 'hidden';
      document.body.style.overflow = 'hidden';
    }
    function closeCart(){
      cart.classList.remove('open');
      overlay.classList.remove('show');
      cart.setAttribute('aria-hidden', 'true');
      overlay.setAttribute('aria-hidden', 'true');
      document.documentElement.style.overflow = '';
      document.body.style.overflow = '';
    }

    // Event delegation
    document.addEventListener('click', (e)=>{
      const addId = e.target.getAttribute('data-add');
      if(addId){ addToCart(addId); return; }

      const decreaseId = e.target.getAttribute('data-decrease');
      if(decreaseId){ changeQty(decreaseId, -1); return; }

      const increaseId = e.target.getAttribute('data-increase');
      if(increaseId){ changeQty(increaseId, +1); return; }

      const removeId = e.target.getAttribute('data-remove');
      if(removeId){ removeFromCart(removeId); return; }
    });

    openCartBtn.addEventListener('click', openCart);
    closeCartBtn.addEventListener('click', closeCart);
    overlay.addEventListener('click', closeCart);

    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape' && cart.classList.contains('open')) closeCart();
    });

    // Search (very basic filter)
    document.getElementById('searchBtn').addEventListener('click', ()=>{
      const q = document.getElementById('searchInput').value.trim().toLowerCase();
      if(!q){ renderProducts(PRODUCTS); return; }
      const filtered = PRODUCTS.filter(p => p.title.toLowerCase().includes(q));
      renderProducts(filtered);
    });

    // Checkout button (placeholder)
    document.getElementById('checkoutBtn').addEventListener('click', ()=>{
      if(cartItemsArray().length === 0){ alert('Your cart is empty.'); return; }
      alert('Checkout — total: ' + cartTotal().toFixed(2) + '\\n(This is a demo. Integrate a payments provider to proceed.)');
    });

    // Initial render
    renderProducts(PRODUCTS);
    updateCartUI();
  </script>
</body>
</html>
